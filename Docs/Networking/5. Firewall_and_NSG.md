# **Load_Balancers**
## **1. Network Security Groups (NSG) → Inbound/Outbound Rules**

What is an NSG?

* NSG = a rule-based filter that controls inbound and outbound traffic at the subnet or VM network interface level.

* Works like a “mini-firewall” closest to your resources.

# **Rules in NSG:**

* Inbound rules → Control what traffic can enter (e.g., allow HTTPS, block SSH from public internet).

* Outbound rules → Control what traffic can leave (e.g., allow DB traffic only to a private subnet).

* Rules are based on:

    * Source & Destination (IP, subnet, or tag like Internet/AzureLoadBalancer).

    * Port (e.g., 80, 443, 22, 3389).

    * Protocol (TCP/UDP).
```
Project

In your 3-tier project setup:

Web Subnet NSG: Allow inbound HTTP/HTTPS (80/443) only.

App Subnet NSG: Allow traffic only from Web Subnet.

DB Subnet NSG: Allow traffic only from App Subnet (SQL port 1433), block everything else.
```

## **2. Azure Firewall → Centralized Protection**

# **What is Azure Firewall?**

* A managed, cloud-native firewall service for centralized control across your VNets.

* Works at the network level and is deployed in a dedicated subnet (AzureFirewallSubnet).

* Offers advanced features:

    * Application rules (filter traffic by domain names, e.g., allow only *.microsoft.com).

    * Network rules (control IP/port/protocol traffic).

    * Threat intelligence → block traffic from known malicious IPs.

    * Logging & monitoring integration with Azure Monitor.

Project
```
If your project simulates an enterprise-like setup, you can place Azure Firewall in the Hub VNet.

All traffic from Spoke VNets (Web/App/DB) routes through it → centralized control + monitoring.
```

## 3. Differences between NSG and Firewall
| Feature           | **NSG**                                   | **Azure Firewall**                                 |
| ----------------- | ----------------------------------------- | -------------------------------------------------- |
| **Scope**         | Subnet or NIC-level                       | Entire VNet or multiple VNets (centralized)        |
| **Type of Rules** | Simple allow/deny (IP, port, protocol)    | Advanced filtering (FQDN, threat intel, NAT rules) |
| **Stateful?**     | Yes                                       | Yes                                                |
| **Management**    | Lightweight, per subnet/VM                | Centralized, enterprise-grade                      |
| **Best for**      | Basic traffic filtering at resource level | Large-scale security, central governance           |
